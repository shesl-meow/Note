# 抽象工厂模式

抽象工厂模式（Abstract Factory Pattern）是围绕一个超级工厂创建其他工厂。该超级工厂又称为其他工厂的工厂。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。

在抽象工厂模式中，接口是负责创建一个相关对象的工厂，不需要显式指定它们的类。每个生成的工厂都能按照工厂模式提供对象。

## 介绍

**意图：**

- 提供一个创建一系列相关或相互依赖对象的接口，而无需指定它们具体的类。

**应用实例**：

1. QQ 换皮肤，一整套一起换。
2. 生成不同操作系统的程序。

**优点：**

- 当一个产品族中的多个对象被设计成一起工作时，它能保证客户端始终只使用同一个产品族中的对象。

**缺点：**

- 产品族扩展非常困难
- 要增加一个系列的某一产品，既要在抽象的 Creator 里加代码，又要在具体的里面加代码。

*PostScript*：

- 我感觉抽象工厂模式就是在工厂模式的两层（底层对象与对外接口）之间再加入一层。
- 这一层称为超级工厂，最后的派生依赖图类似一个漏斗状。

## 例子

抽象工厂模式也就是不仅生产鼠标，同时生产键盘。也就是：

1. PC 厂商是个父类，有生产鼠标，生产键盘两个接口。

2. 戴尔工厂，惠普工厂继承它，可以分别生产戴尔鼠标+戴尔键盘，和惠普鼠标+惠普键盘。

3. 创建工厂时，由戴尔工厂创建。

4. 后续**工厂.生产鼠标()**则生产戴尔鼠标，**工厂.生产键盘()**则生产戴尔键盘。

![AbstractFactoryPattern](./AbstractFactoryPattern.png)

关于扩展性：

1. 假设我们增加华硕工厂，则我们需要增加华硕工厂，和戴尔工厂一样，继承 PC 厂商。

   之后创建华硕鼠标，继承鼠标类。创建华硕键盘，继承键盘类即可。

2. 假设我们增加耳麦这个产品，则首先我们需要增加耳麦这个父类，再加上戴尔耳麦，惠普耳麦这两个子类。

   之后在PC厂商这个父类中，增加生产耳麦的接口。最后在戴尔工厂，惠普工厂这两个类中，分别实现生产戴尔耳麦，惠普耳麦的功能。

