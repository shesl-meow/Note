# 计算广告基础

## 核心问题

计算广告的核心问题用文字表述如下：

- 为一系列的用户与上下文的组合找到最合适的广告投放策略以优化整体广告活动的利润；

在数学上，可以表示为一个最优化问题：

- $$\displaystyle \max{\sum_{i=1}^T (r_i - q_i)}, \text{ s.t. } \sum_{i=1}^Td_{ik} \le D_k, \forall k$$

- 其中 i 表示某次广告展示、k 表示某个广告主；r 为总收入、q 为总成本、D 为某个广告主的预算；
- 引入 a、u、c 表示广告、用户、上下文，那么上面的数学表达式中的 r、q 是关于它们的函数；
- 也就是公式：$$\displaystyle \max{\sum_{i=1}^T (r(a_i, u_i, c_i) - q(a_i, u_i, c_i))}, \text{ s.t. } \sum_{i=1}^Td(a_i, u_i, c_i, k) \le D(k), \forall k$$

上面的广告收入是我们研究的重点，可以按照单次广告展示预期收入（eCPM）分解：

- $$eCPM = r(a,u, c) = \mu(a, u, c) \cdot v(a, u, c)$$，其中 $$\mu$$ 表示点击率，v 表示单词点击带来的收益；